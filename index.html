<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HomeSweet Massage Studio</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- NAVBAR -->
  <header class="site-header">
    <div class="container header-inner">
      <a class="brand" href="index.html" aria-label="HomeSweet Massage Studio">
        <span class="brand-text">HomeSweet</span>
        <small class="brand-sub">Massage Studio</small>
      </a>

      <button class="nav-toggle" aria-expanded="false" aria-controls="main-nav" aria-label="메뉴 열기">
        <span class="hamburger"></span>
      </button>

      <nav id="main-nav" class="nav" aria-label="주요 내비게이션">
        <ul class="nav-menu">
          <li><a href="index.html" class="nav-link active">홈</a></li>
          <li><a href="about.html" class="nav-link">소개</a></li>

          <!-- 지역선택 下拉（桌面 hover / 触屏 click） -->
          <li class="nav-item dropdown" data-dropdown="regions">
            <a href="regions.html" class="nav-link" aria-haspopup="true" aria-expanded="false">지역선택 ▾</a>
            <div class="dropdown-panel" role="menu" aria-label="지역 선택">
              <div class="dropdown-col">
                <h4 class="col-title">구분</h4>
                <ul class="level-one" role="none">
                  <li role="none"><button class="region-type" data-type="do">도</button></li>
                  <li role="none"><button class="region-type" data-type="teukbyeolsi">특별시</button></li>
                  <li role="none"><button class="region-type" data-type="gwangyeoksi">광역시</button></li>
                </ul>
              </div>
              <div class="dropdown-col">
                <h4 class="col-title">시/도</h4>
                <ul class="level-two" aria-live="polite"></ul>
              </div>
              <div class="dropdown-col">
                <h4 class="col-title">구/군</h4>
                <ul class="level-three" aria-live="polite"></ul>
              </div>
            </div>
          </li>

          <li><a href="blog.html" class="nav-link">블로그</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero">
    <div class="hero-bg" role="img" aria-label="편안한 마사지 이미지" style="background-image:url('Banner.jpg')"></div>
    <div class="container hero-content">
      <div class="hero-copy">
        <h1>집에서 누리는 고품격 마사지</h1>
        <p class="lead">HomeSweet Massage Studio — 전문 테라피스트가 집으로 찾아갑니다.</p>
        <div class="actions">
          <a class="btn primary" href="tel:+821012345678">전화로 예약하기</a>
          <a class="btn kakao" target="_blank" rel="noopener" href="https://pf.kakao.com/">카카오톡 문의</a>
        </div>
      </div>
      <div class="hero-cards">
        <article class="service-card">
          <img src="Service1.jpg" alt="전신 마사지" class="card-img responsive-img" />
          <h3>전신 마사지</h3>
          <p>피로 회복과 이완을 위한 맞춤 전신 관리.</p>
        </article>
        <article class="service-card">
          <img src="Service2.jpg" alt="아로마 테라피" class="card-img responsive-img" />
          <h3>아로마 테라피</h3>
          <p>천연 오일로 깊은 릴랙스 제공.</p>
        </article>
        <article class="service-card">
          <img src="Service3.jpg" alt="커플 마사지" class="card-img responsive-img" />
          <h3>커플 프로그램</h3>
          <p>둘이 함께 누리는 프라이빗 세션.</p>
        </article>
      </div>
    </div>
  </section>

  <!-- SERVICES HIGHLIGHT -->
  <main class="container main-content">
    <section class="features">
      <h2>왜 HomeSweet인가?</h2>
      <div class="feature-grid">
        <div class="feature">
          <h4>전문 테라피스트</h4>
          <p>검증된 테라피스트 팀이 안전하고 편안한 관리를 제공합니다.</p>
        </div>
        <div class="feature">
          <h4>전국 출장</h4>
          <p>서울, 부산, 대구 등 전국 주요 도시 지원 — 상세 지역은 지역선택에서 확인하세요.</p>
        </div>
        <div class="feature">
          <h4>위생 & 안전</h4>
          <p>개인 위생을 최우선으로 한 철저한 소독 프로토콜.</p>
        </div>
      </div>
    </section>

    <!-- REGION SELECT ON HOME -->
    <section class="region-selection-section home-region">
      <div class="region-selector-wrapper">
        <h2>원하시는 지역을 선택하세요</h2>
        <p class="lead">도 / 특별시 / 광역시 → 시/도 → 구/군 순으로 선택하시면 해당 지역의 게시물과 서비스를 확인할 수 있습니다.</p>

        <form id="regionFormHome" class="region-form" onsubmit="return false;">
          <div class="form-row">
            <label for="regionTypeHome">구분 (도 / 특별시 / 광역시)</label>
            <select id="regionTypeHome" required>
              <option value="">선택하세요</option>
              <option value="do">도</option>
              <option value="teukbyeolsi">특별시</option>
              <option value="gwangyeoksi">광역시</option>
            </select>
          </div>

          <div class="form-row">
            <label for="provinceHome">시/도</label>
            <select id="provinceHome" disabled required>
              <option value="">먼저 구분을 선택하세요</option>
            </select>
          </div>

          <div class="form-row">
            <label for="districtHome">구/군</label>
            <select id="districtHome" disabled required>
              <option value="">먼저 시/도를 선택하세요</option>
            </select>
          </div>

          <div class="form-actions">
            <button type="button" id="viewBlogBtnHome" class="btn primary" disabled>선택한 지역의 블로그 보기</button>
          </div>
        </form>

        <div id="selectedRegionHome" class="selected-region-display"></div>
      </div>
    </section>

    <!-- PRICING + MAP (同屏并列显示) -->
    <section class="pricing-map">
      <div class="pricing">
        <h2>서비스 요금표</h2>
        <div class="price-wrap">
          <img src="Pricelist.jpg" alt="서비스 요금표" class="responsive-img price-img" />
        </div>
      </div>

      <div class="map-section">
        <h2>대표영업지역 / 본사 위치</h2>
        <div class="map-frame">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3163.064698087626!2d126.9782912!3d37.5665358!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x357ca2d55af4ba93%3A0x4b1f0f1a2c0272c9!2z7ISc7Jq47Yq567OE7IucIOyLnOyauCDrtoDsu6TtjpjslY4!5e0!3m2!1sko!2skr!4v1700000000000"
            width="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
      </div>
    </section>
  </main>

  <!-- FLOATING ACTIONS (MOBILE & DESKTOP) -->
  <div class="floating-actions" aria-hidden="false">
    <a class="float-btn phone" href="tel:+821012345678" aria-label="전화 걸기">전화</a>
    <a class="float-btn kakao" href="https://pf.kakao.com/" target="_blank" rel="noopener" aria-label="카카오톡">카카오</a>
  </div>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="container footer-inner">
      <div class="footer-brand">
        <strong>HomeSweet Massage Studio</strong>
        <p class="muted">집에서 누리는 프리미엄 마사지</p>
      </div>

      <nav class="footer-nav" aria-label="푸터 내비게이션">
        <a href="index.html">홈</a>
        <a href="about.html">소개</a>
        <a href="regions.html">지역선택</a>
        <a href="blog.html">블로그</a>
      </nav>

      <div class="footer-meta">
        <p>© <span id="year"></span> HomeSweet Massage Studio. All rights reserved.</p>
      </div>
    </div>
  </footer>

<script>
/* 기본 년도 */
document.getElementById('year').textContent = new Date().getFullYear();

/* 모바일导航 切换 */
(function(){
  const btn = document.querySelector('.nav-toggle');
  const nav = document.getElementById('main-nav');
  btn && btn.addEventListener('click', () => {
    const expanded = btn.getAttribute('aria-expanded') === 'true';
    btn.setAttribute('aria-expanded', String(!expanded));
    nav.classList.toggle('open');
  });
})();

/* 统一 region 数据（可扩展/替换为完整数据） */
const REGION_DATA = (function(){
  return {
    "do": {
      "경기도": ["수원","성남","용인","의정부","고양","부천"],
      "강원도": ["춘천","강릉","원주"]
    },
    "teukbyeolsi": {
      "서울특별시": ["강남구","종로구","마포구","송파구","서초구","영등포구"]
    },
    "gwangyeoksi": {
      "부산광역시": ["해운대구","남구","동래구"],
      "대구광역시": ["수성구","달서구"]
    }
  };
})();

/* NAVBAR 下拉交互（桌面 hover + 触屏 click） */
(function(){
  const dropdown = document.querySelector('.dropdown');
  if (!dropdown) return;
  const panel = dropdown.querySelector('.dropdown-panel');
  const lvlOneBtns = panel.querySelectorAll('.region-type');
  const lvlTwo = panel.querySelector('.level-two');
  const lvlThree = panel.querySelector('.level-three');

  function clear(el){ el.innerHTML = ''; }

  panel.addEventListener('click', e => e.stopPropagation());
  document.addEventListener('click', () => {
    panel.classList.remove('open');
    dropdown.querySelector('a').setAttribute('aria-expanded','false');
  });

  dropdown.addEventListener('mouseenter', () => {
    panel.classList.add('open');
    dropdown.querySelector('a').setAttribute('aria-expanded','true');
  });
  dropdown.addEventListener('mouseleave', () => {
    panel.classList.remove('open');
    dropdown.querySelector('a').setAttribute('aria-expanded','false');
  });

  lvlOneBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      const type = btn.dataset.type;
      const second = Object.keys(REGION_DATA[type] || {});
      clear(lvlTwo); clear(lvlThree);
      if (second.length === 0) {
        lvlTwo.innerHTML = '<li class="empty">선택가능한 시/도가 없습니다.</li>';
        return;
      }
      second.forEach(s => {
        const li = document.createElement('li');
        const b = document.createElement('button');
        b.type = 'button';
        b.className = 'dropdown-item';
        b.textContent = s;
        b.addEventListener('click', () => {
          clear(lvlThree);
          (REGION_DATA[type][s] || []).forEach(t => {
            const li3 = document.createElement('li');
            const bt3 = document.createElement('a');
            bt3.href = `blog.html?province=${encodeURIComponent(s)}&district=${encodeURIComponent(t)}`;
            bt3.textContent = t;
            li3.appendChild(bt3);
            lvlThree.appendChild(li3);
          });
        });
        li.appendChild(b);
        lvlTwo.appendChild(li);
      });
    });
  });
})();

/* HOME region selector 脚本（与 regions.html 的实现类似，使用同一份数据） */
(function(){
  const $type = document.getElementById('regionTypeHome');
  const $province = document.getElementById('provinceHome');
  const $district = document.getElementById('districtHome');
  const $viewBtn = document.getElementById('viewBlogBtnHome');
  const $selected = document.getElementById('selectedRegionHome');

  function resetSelect(sel, placeholder){
    sel.innerHTML = `<option value="">${placeholder}</option>`;
    sel.disabled = true;
  }
  function fillSelect(sel, items, placeholder){
    sel.innerHTML = `<option value="">${placeholder}</option>` + items.map(i => `<option value="${i}">${i}</option>`).join('');
    sel.disabled = false;
  }

  $type.addEventListener('change', () => {
    const v = $type.value;
    if (!v || !REGION_DATA[v]) { resetSelect($province, '먼저 구분을 선택하세요'); resetSelect($district, '먼저 시/도를 선택하세요'); $viewBtn.disabled=true; return; }
    fillSelect($province, Object.keys(REGION_DATA[v]), '시/도를 선택하세요');
    resetSelect($district, '먼저 시/도를 선택하세요');
    $viewBtn.disabled = true;
  });

  $province.addEventListener('change', () => {
    const t = $type.value, p = $province.value;
    if (!p || !REGION_DATA[t] || !REGION_DATA[t][p]) { resetSelect($district,'먼저 시/도를 선택하세요'); $viewBtn.disabled=true; return; }
    fillSelect($district, REGION_DATA[t][p], '구/군을 선택하세요');
    $viewBtn.disabled = true;
  });

  $district.addEventListener('change', () => {
    $viewBtn.disabled = !$district.value;
    if ($district.value) {
      $selected.innerHTML = `<div class="region-card"><div class="region-text">${$province.value} > ${$district.value}</div><div class="region-desc">선택한 지역의 서비스와 블로그 게시물을 확인하려면 아래 버튼을 클릭하세요.</div></div>`;
    } else $selected.innerHTML = '';
  });

  $viewBtn.addEventListener('click', () => {
    const prov = encodeURIComponent($province.value);
    const dist = encodeURIComponent($district.value);
    location.href = `blog.html?province=${prov}&district=${dist}`;
  });
})();
</script>

</body>
</html>
